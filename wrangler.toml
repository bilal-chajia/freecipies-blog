name = "recipes-saas"
compatibility_date = "2024-10-01"
compatibility_flags = ["nodejs_compat"]
pages_build_output_dir = "dist"

# Note: Les liaisons KV ont été supprimées car le projet utilise maintenant D1 comme source de données principale.
# Si vous avez besoin de KV pour d'autres fonctionnalités (ex: sessions, cache), vous pouvez les rajouter ici.

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "recipes-saas"
database_id = "local-dev"  # Placeholder for local dev, update when deploying to Cloudflare
preview_database_id = "local-dev"

# R2 Buckets
[[r2_buckets]]
binding = "IMAGES"
bucket_name = "recipes-saas-media"
preview_bucket_name = "recipes-saas-media"

# Environment Variables
[vars]
ENVIRONMENT = "development"
R2_PUBLIC_URL = "http://localhost:4321/api/images"  # Local dev URL
# Auth secrets - for local development only. In production, use wrangler secrets.
JWT_SECRET = "Bildev2025"
ADMIN_USERNAME = "admin@recipes-saas.com"
ADMIN_PASSWORD = "admin123"

# KV Namespaces (for sessions)
[[kv_namespaces]]
binding = "SESSION"
id = "local-session-kv"
preview_id = "local-session-kv"
